<template>
  <div class="not-container">
    <img :src="errorMap[type].url" class="not-img" />
    <div class="not-detail">
      <h2>{{ type }}</h2>
      <h4>{{ errorMap[type].message }}</h4>
      <el-button type="primary" @click="btnClick">è¿”å›žé¦–é¡µ</el-button>
    </div>
  </div>
</template>

<script setup lang="ts">
import pageError from '@/assets/images/404.png'
import networkError from '@/assets/images/500.png'
import noPermission from '@/assets/images/403.png'
import { ElButton } from 'element-plus'

interface ErrorMap {
  url: string
  message: string
}

const errorMap: {
  [key: string]: ErrorMap
} = {
  '404': {
    url: pageError,
    message: 'æŠ±æ­‰ï¼Œæ‚¨è®¿é—®çš„é¡µé¢ä¸å­˜åœ¨~ðŸ¤·â€â™‚ï¸ðŸ¤·â€â™€ï¸'
  },
  '500': {
    url: networkError,
    message: 'æŠ±æ­‰ï¼Œæ‚¨çš„ç½‘ç»œä¸è§äº†~ðŸ¤¦â€â™‚ï¸ðŸ¤¦â€â™€ï¸'
  },
  '403': {
    url: noPermission,
    message: 'æŠ±æ­‰ï¼Œæ‚¨æ— æƒè®¿é—®è¯¥é¡µé¢~ðŸ™…â€â™‚ï¸ðŸ™…â€â™€ï¸'
  }
}

const props = defineProps({
  type: {
    type: String,
    default: '404'
  }
})

const emit = defineEmits(['errorClick'])

const btnClick = () => {
  emit('errorClick', props.type)
}
</script>

<style scoped lang="less">
@import './index.less';
</style>
